!function(a,b,c,d){"use strict";var e=function(){return this.init.apply(this,arguments)};e.prototype={defaults:{onstatechange:function(){},isRange:!1,showLabels:!0,showScale:!0,step:1,format:"%s",theme:"theme-green",width:300,disable:!1},template:'<div class="slider-container">			<div class="back-bar">                <div class="selected-bar"></div>                <div class="pointer low"></div><div class="pointer-label">123456</div>                <div class="pointer high"></div><div class="pointer-label">456789</div>                <div class="clickable-dummy"></div>            </div>            <div class="scale"></div>		</div>',init:function(b,c){this.options=a.extend({},this.defaults,c),this.inputNode=a(b),this.options.value=this.inputNode.val()||(this.options.isRange?this.options.from+","+this.options.from:this.options.from),this.domNode=a(this.template),this.domNode.addClass(this.options.theme),this.inputNode.after(this.domNode),this.domNode.on("change",this.onChange),this.pointers=a(".pointer",this.domNode),this.lowPointer=this.pointers.first(),this.highPointer=this.pointers.last(),this.labels=a(".pointer-label",this.domNode),this.lowLabel=this.labels.first(),this.highLabel=this.labels.last(),this.scale=a(".scale",this.domNode),this.bar=a(".selected-bar",this.domNode),this.clickableBar=this.domNode.find(".clickable-dummy"),this.interval=this.options.to-this.options.from,(this.options.inputForMin||this.options.inputForMax)&&(this.hasInputs=!0,(this.options.inputForMin||a(this.options.inputForMin).length)&&(this.inputForMin=a(this.options.inputForMin).on("change",a.proxy(this.setValueFromInput,this))),(this.options.inputForMax||a(this.options.inputForMax).length)&&(this.inputForMax=a(this.options.inputForMax).on("change",a.proxy(this.setValueFromInput,this)))),this.render()},setValueFromInput:function(){var a=this.getValueArray(),b=parseInt(this.options.inputForMin?this.inputForMin.val():0,10),c=parseInt(this.options.inputForMax?this.inputForMax.val():0,10),d=parseInt(a[0],10),e=parseInt(a[1],10);(0>b||b>e)&&(b=d),(c>this.options.to||d>c)&&(c=e),this.setValue(b+","+c)},render:function(){(0!==this.inputNode.width()||this.options.width)&&(this.domNode.width(this.options.width||this.inputNode.width()),this.inputNode.hide(),this.isSingle()&&(this.lowPointer.hide(),this.lowLabel.hide()),this.options.showLabels||this.labels.hide(),this.attachEvents(),this.options.showScale&&this.renderScale(),this.setValue(this.options.value))},isSingle:function(){return"number"==typeof this.options.value?!0:-1!==this.options.value.indexOf(",")||this.options.isRange?!1:!0},attachEvents:function(){this.clickableBar.click(a.proxy(this.barClicked,this)),this.pointers.on("mousedown touchstart",a.proxy(this.onDragStart,this)),this.pointers.bind("dragstart",function(a){a.preventDefault()})},onDragStart:function(b){if(!(this.options.disable||"mousedown"===b.type&&1!==b.which)){b.stopPropagation(),b.preventDefault();var d=a(b.target);this.pointers.removeClass("last-active"),d.addClass("focused last-active"),this[(d.hasClass("low")?"low":"high")+"Label"].addClass("focused"),a(c).on("mousemove.slider touchmove.slider",a.proxy(this.onDrag,this,d)),a(c).on("mouseup.slider touchend.slider touchcancel.slider",a.proxy(this.onDragEnd,this))}},onDrag:function(a,b){b.stopPropagation(),b.preventDefault(),b.originalEvent.touches&&b.originalEvent.touches.length?b=b.originalEvent.touches[0]:b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length&&(b=b.originalEvent.changedTouches[0]);var c=b.clientX-this.domNode.offset().left;this.domNode.trigger("change",[this,a,c])},onDragEnd:function(b){this.pointers.removeClass("focused"),this.labels.removeClass("focused"),a(c).off(".slider")},barClicked:function(a){if(!this.options.disable){var b=a.pageX-this.clickableBar.offset().left;if(this.isSingle())this.setPosition(this.pointers.last(),b,!0,!0);else{var c=Math.abs(parseInt(this.pointers.first().css("left"),10)-b+this.pointers.first().width()/2)<Math.abs(parseInt(this.pointers.last().css("left"),10)-b+this.pointers.first().width()/2)?this.pointers.first():this.pointers.last();this.setPosition(c,b,!0,!0)}this.setInputs()}},onChange:function(a,b,c,d){var e,f;b.isSingle()?(e=0,f=b.domNode.width()):(e=c.hasClass("high")?b.lowPointer.position().left+b.lowPointer.width()/2:0,f=c.hasClass("low")?b.highPointer.position().left+b.highPointer.width()/2:b.domNode.width());var g=Math.min(Math.max(d,e),f);b.setPosition(c,g,!0),b.setInputs()},setInputs:function(){var a=this.getValueArray();this.options.inputForMin&&this.inputForMin.val(a[0]),this.options.inputForMax&&this.inputForMax.val(a[1])},setPosition:function(a,b,c,d){var e,f=this.lowPointer.position().left,g=this.highPointer.position().left,h=this.highPointer.width()/2;c||(b=this.prcToPx(b)),a[0]===this.highPointer[0]?g=Math.round(b-h):f=Math.round(b-h),a[d?"animate":"css"]({left:Math.round(b-h)}),e=this.isSingle()?0:f+h,this.bar[d?"animate":"css"]({width:Math.round(g+h-e),left:e}),this.showPointerValue(a,b,d),this.isReadonly()},setValue:function(a){var b=a.toString().split(",");this.options.value=a;var c=this.valuesToPrc(2===b.length?b:[0,b[0]]);this.isSingle()?this.setPosition(this.highPointer,c[1]):(this.setPosition(this.lowPointer,c[0]),this.setPosition(this.highPointer,c[1])),this.setInputs()},setRange:function(a,b){if(b>a){var c=this.getValueArray(),d=!1;b<c[1]&&(c[1]=b,d=!0),b<=c[0]&&(c[0]=b-1,d=!0),a>c[0]&&(c[0]=a,d=!0),a>=c[1]&&(c[1]=a+1,d=!0),d&&this.setValue(c.join(",")),this.options.from=a,this.options.to=b,this.interval=this.options.to-this.options.from,this.options.scale=[a,b],this.setValue(this.getValue()),this.renderScale(),this.setInputs()}},renderScale:function(){for(var b=this.options.scale||[this.options.from,this.options.to],c=Math.round(100/(b.length-1)*10)/10,d="",e=0;e<b.length;e++)d+='<span style="left: '+e*c+'%">'+("|"!=b[e]?"<ins>"+b[e]+"</ins>":"")+"</span>";this.scale.html(d),a("ins",this.scale).each(function(){a(this).css({marginLeft:-a(this).outerWidth()/2})})},getBarWidth:function(){var a=this.options.value.split(",");return a.length>1?parseInt(a[1],10)-parseInt(a[0],10):parseInt(a[0],10)},showPointerValue:function(b,c,e){var f,g=a(".pointer-label",this.domNode)[b.hasClass("low")?"first":"last"](),h=this.positionToValue(c);if(a.isFunction(this.options.format)){var i=this.isSingle()?d:b.hasClass("low")?"low":"high";f=this.options.format(h,i)}else f=this.options.format.replace("%s",h);var j=g.html(f).width(),k=c-j/2;k=Math.min(Math.max(k,0),this.options.width-j),g[e?"animate":"css"]({left:k}),this.setInputValue(b,h)},valuesToPrc:function(a){var b=100*(a[0]-this.options.from)/this.interval,c=100*(a[1]-this.options.from)/this.interval;return[b,c]},prcToPx:function(a){return this.domNode.width()*a/100},positionToValue:function(a){var b=a/this.domNode.width()*this.interval;return b+=this.options.from,Math.round(b/this.options.step)*this.options.step},setInputValue:function(a,b){if(this.isSingle())this.options.value=b.toString();else{var c=this.options.value.split(",");a.hasClass("low")?this.options.value=b+","+c[1]:this.options.value=c[0]+","+b}this.inputNode.val()!==this.options.value&&(this.inputNode.val(this.options.value),this.options.onstatechange.call(this,this.options.value))},getValue:function(){return this.options.value},getValueArray:function(){return this.options.value.split(",")},getTo:function(){return this.options.to},getFrom:function(){return this.options.from},isReadonly:function(){this.domNode.toggleClass("slider-readonly",this.options.disable)},disable:function(){this.options.disable=!0,this.isReadonly()},enable:function(){this.options.disable=!1,this.isReadonly()},toggleDisable:function(){this.options.disable=!this.options.disable,this.isReadonly()}};var f="jRange";a.fn[f]=function(c){var g,h=arguments;return"initiated"===c?this===d?!1:!0:(this.each(function(){var d=a(this),i=a.data(this,"plugin_"+f),j="object"==typeof c&&c;i||(d.data("plugin_"+f,i=new e(this,j)),a(b).resize(function(){i.setValue(i.getValue())})),"string"==typeof c&&(g=i[c].apply(i,Array.prototype.slice.call(h,1)))}),g||this)}}(jQuery,window,document);
//# sourceMappingURL=jquery.range-min.js.map